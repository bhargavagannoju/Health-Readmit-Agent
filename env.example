# Environment Variables Template
# Copy to .env and fill in your values

# ============= Environment =============
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# ============= API Configuration =============
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=true

# ============= Database =============
DATABASE_URL=postgresql://postgres:password@localhost:5432/healthcare_ai
# Alternative: SQLite for development
# DATABASE_URL=sqlite:///healthcare_ai.db

DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40
DATABASE_ECHO=false

# ============= Redis Cache =============
REDIS_URL=redis://localhost:6379/0
REDIS_CACHE_TTL=3600

# ============= OpenAI Configuration =============
OPENAI_API_KEY=sk-your-api-key-here
OPENAI_MODEL=gpt-4
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=2000
OPENAI_REQUEST_TIMEOUT=30

# ============= Anthropic Configuration =============
ANTHROPIC_API_KEY=sk-ant-your-api-key-here
ANTHROPIC_MODEL=claude-3-opus-20240229

# ============= ML Model Configuration =============
ML_MODEL_PATH=./problem_1_ml_readmission/outputs/models
ML_DEFAULT_MODEL=xgboost
ML_BATCH_SIZE=32
ML_CONFIDENCE_THRESHOLD=0.5

# ============= LLM Extraction Configuration =============
LLM_PROVIDER=openai  # or anthropic
LLM_EXTRACTION_TIMEOUT=30
LLM_HALLUCINATION_THRESHOLD=0.65
LLM_MAX_RETRIES=3

# ============= Agentic System Configuration =============
AGENT_TIMEOUT_SECONDS=30
AGENT_MAX_RETRIES=2
AGENT_LOG_LEVEL=INFO

# ============= Security =============
SECRET_KEY=your-super-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8000"]
CORS_ALLOW_CREDENTIALS=true

# ============= Logging =============
LOG_FORMAT=json  # or text
LOG_FILE=./logs/app.log
LOG_FILE_SIZE_MB=100
LOG_BACKUP_COUNT=5

# ============= Monitoring =============
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
SENTRY_DSN=  # Optional error tracking

# ============= Feature Flags =============
ENABLE_ML_CACHING=true
ENABLE_LLM_HALLUCINATION_DETECTION=true
ENABLE_AUDIT_LOGGING=true
ENABLE_STRUCTURED_LOGGING=true

# ============= Data Configuration =============
SYNTHETIC_DATA_SAMPLES=1000
DATA_RANDOM_SEED=42
VALIDATION_SPLIT=0.2
TEST_SPLIT=0.1

# ============= Clinical Guidelines =============
GUIDELINES_PATH=./problem_3_agentic_system/guidelines/clinical_guidelines.md
UPDATE_GUIDELINES_DAILY=true

# ============= Email Configuration (for alerts) =============
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
ALERT_EMAIL_FROM=alerts@healthcare-ai.com
ALERT_EMAIL_TO=admin@healthcare-ai.com

# ============= AWS Configuration (if using AWS) =============
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
S3_BUCKET=healthcare-ai-models
S3_MODEL_PREFIX=models/

# ============= Kubernetes (if deploying to K8s) =============
K8S_NAMESPACE=healthcare-ai
K8S_CONFIG_PATH=~/.kube/config
K8S_LOG_LEVEL=INFO

# ============= Development Tools =============
JUPYTER_PORT=8888
JUPYTER_TOKEN=your-jupyter-token
JUPYTER_ALLOW_REMOTE=false

# ============= Testing =============
TEST_DATABASE_URL=sqlite:///test.db
TEST_REDIS_URL=redis://localhost:6379/15
PYTEST_TIMEOUT=300

# ============= Feature Engineering =============
MISSING_VALUE_STRATEGY=knn  # knn, mean, median, forward_fill
IMBALANCE_STRATEGY=smote  # smote, class_weights, both
SCALING_METHOD=robust  # robust, standard, minmax

# ============= Model Hyperparameters =============
XGBOOST_MAX_DEPTH=6
XGBOOST_LEARNING_RATE=0.05
XGBOOST_N_ESTIMATORS=100
XGBOOST_SCALE_POS_WEIGHT=4

RANDOM_FOREST_N_ESTIMATORS=100
RANDOM_FOREST_MAX_DEPTH=10
RANDOM_FOREST_MIN_SAMPLES_SPLIT=20

# ============= Evaluation Metrics =============
CV_FOLDS=5
AUROC_TARGET=0.80
PR_AUC_TARGET=0.65
CALIBRATION_ERROR_TARGET=0.05

# ============= System Performance =============
MAX_WORKERS=4
MAX_CONNECTIONS=100
REQUEST_TIMEOUT_SECONDS=30
SHUTDOWN_TIMEOUT_SECONDS=10

# ============= Health Check =============
HEALTH_CHECK_INTERVAL_SECONDS=30
HEALTH_CHECK_TIMEOUT_SECONDS=5
